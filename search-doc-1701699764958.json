{"searchDocs":[{"title":"Innbyggerflate","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate","content":"Innbyggerflate Team innbyggerflate er ett av tre team i Dagpengeklynga som skal lage ny vedtaksløsning for dagpenger, slik at vi kan komme ut av Arena. Vi har ansvar løsninger som retter seg mot innbyggere i form av søknadsdialogen for dagpenger og skal lage ny funksjonalitet som rapporteringsløsningen.","keywords":"","version":"Next"},{"title":"Løsninger","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger","content":"","keywords":"","version":"Next"},{"title":"Overordnet arkitektur​","type":1,"pageTitle":"Løsninger","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger#overordnet-arkitektur","content":" Loading... ","version":"Next","tagName":"h2"},{"title":"Nav.no","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno","content":"Nav.no","keywords":"","version":"Next"},{"title":"Innsyn","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/innsyn","content":"","keywords":"","version":"Next"},{"title":"Om innsynsløsningen - Mine Dagpenger​","type":1,"pageTitle":"Innsyn","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/innsyn#om-innsynsløsningen---mine-dagpenger","content":" Mine Dagpenger er en løsning som skal gi dagpengesøkere innsyn i saken sin. Mine Dagpenger kan nås fra kvitteringssiden man havner på etter innsendt søknad, eller via Min Side. Løsningen gir brukeren informasjon om:  Påminnelse om å sende alle vedleggLenke til side om saksbehandlingstid for dagpengerHvorvidt hen er registrert som arbeidssøker eller ikke, og eventuell lenke til arbeidssøkerregistreringOversikt over søknader, både påbegynte og innsendteHvilket kontonummer som er registrert for utbetaling, eventuelt beskjed om at det ikke er registrert noen kontonummerMulighet til å melde fra om endring via &quot;Skriv til oss&quot; eller ved å sende inn dokumenter (generell innsending)Snarveier til &quot;Send klage&quot;, &quot;Spørsmål om saken din?&quot;, &quot;Forskudd på dagpenger&quot; og &quot;Ny søknad&quot;Dokumentoversikt over alle søknader, vedlegg, vedtak, brev, samtalereferater og meldinger om dagpenger og oppfølging, med muligheten til å laste ned eller forhåndsvise dokumentene  ","version":"Next","tagName":"h2"},{"title":"Lenker til Mine Dagpenger​","type":1,"pageTitle":"Innsyn","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/innsyn#lenker-til-mine-dagpenger","content":" DevProd  ","version":"Next","tagName":"h2"},{"title":"Applikasjoner​","type":1,"pageTitle":"Innsyn","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/innsyn#applikasjoner","content":" Backend: dp-innsynFrontend: dp-dagpenger ","version":"Next","tagName":"h2"},{"title":"Faktasider (historisk)","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/faktasider","content":"","keywords":"","version":"Next"},{"title":"Formål​","type":1,"pageTitle":"Faktasider (historisk)","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/faktasider#formål","content":" Tjenesten eksisterer for å vise de historiske informasjonssidene til dagpenger, før overgangen til dp-produktsiden. Dataene er lagret i Sanity, men er ikke tilgjengelig for redigering.  TODO: I hvilket tidsrom var informasjonen som vises her gyldig?  ","version":"Next","tagName":"h2"},{"title":"Teknologier​","type":1,"pageTitle":"Faktasider (historisk)","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/faktasider#teknologier","content":" Rammeverk: next@12Testing: Cypress (ikke i bruk)Node: lts/*  ","version":"Next","tagName":"h2"},{"title":"App-arkitektur​","type":1,"pageTitle":"Faktasider (historisk)","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/faktasider#app-arkitektur","content":"   ","version":"Next","tagName":"h2"},{"title":"Utfordringer​","type":1,"pageTitle":"Faktasider (historisk)","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/faktasider#utfordringer","content":" Applikasjonen henter data fra Sanity, selv om dataen ikke endres. Foreslår at disse dataene ligger som en statisk fil i selve repoet.Applikasjonen er skrevet med Next, men viser kun statisk innhold, så den bør kunne forenkles for å lette vedlikeholdsarbeidet.For å unngå unødvendig arbeid med å vedlikeholde tester kjøres ikke disse lenger, og bør fjernes.  ","version":"Next","tagName":"h2"},{"title":"Lenker​","type":1,"pageTitle":"Faktasider (historisk)","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/faktasider#lenker","content":" Githubnav.noGrafana FaroAmplitudeOppgaver i favroAnnen bakgrunnsinformasjon ","version":"Next","tagName":"h2"},{"title":"Rapportering","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/rapportering","content":"Rapportering","keywords":"","version":"Next"},{"title":"Sanity","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/sanity","content":"","keywords":"","version":"Next"},{"title":"Formål​","type":1,"pageTitle":"Sanity","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/sanity#formål","content":" I Sanity ønsker vi å samle alt innhold som innholdsteamet skal kunne redigere.  ","version":"Next","tagName":"h2"},{"title":"Teknologier​","type":1,"pageTitle":"Sanity","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/sanity#teknologier","content":" Sanity: v3Node: lts/*  ","version":"Next","tagName":"h2"},{"title":"App-arkitektur​","type":1,"pageTitle":"Sanity","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/sanity#app-arkitektur","content":" Prosjektet er delt i 5 seksjoner:  DagpengersøknadMine dagpenger (innsyn)RapporteringSaksbehandlingProduktside    TODO:  Hvordan fungerer applikasjonen internt?Hvilke andre applikasjoner kommuniserer denne direkte med?  ","version":"Next","tagName":"h2"},{"title":"Utfordringer​","type":1,"pageTitle":"Sanity","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/sanity#utfordringer","content":" TODO: Hvilke utfordringer har denne applikasjonen? F.eks. med hvordan den er strukturert, vanskelig å oppgradere, utdaterte avhengigheter  ","version":"Next","tagName":"h2"},{"title":"Lenker​","type":1,"pageTitle":"Sanity","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/sanity#lenker","content":" GithubGrafana FaroAmplitudeOppgaver i favroAnnen bakgrunnsinformasjon ","version":"Next","tagName":"h2"},{"title":"Produktsiden","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/produktsiden","content":"","keywords":"","version":"Next"},{"title":"Formål​","type":1,"pageTitle":"Produktsiden","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/produktsiden#formål","content":" TODO: Hvorfor eksisterer denne applikasjonen, og hvilke problem løser den?  ","version":"Next","tagName":"h2"},{"title":"Teknologier​","type":1,"pageTitle":"Produktsiden","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/produktsiden#teknologier","content":" Rammeverk: next@13Node: lts/*  ","version":"Next","tagName":"h2"},{"title":"App-arkitektur​","type":1,"pageTitle":"Produktsiden","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/produktsiden#app-arkitektur","content":" TODO:  Hvordan fungerer applikasjonen internt?Hvilke andre applikasjoner kommuniserer denne direkte med?    ","version":"Next","tagName":"h2"},{"title":"Utfordringer​","type":1,"pageTitle":"Produktsiden","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/produktsiden#utfordringer","content":" TODO: Hvilke utfordringer har denne applikasjonen? F.eks. med hvordan den er strukturert, vanskelig å oppgradere, utdaterte avhengigheter  ","version":"Next","tagName":"h2"},{"title":"Lenker​","type":1,"pageTitle":"Produktsiden","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/navno/produktsiden#lenker","content":" Githubnav.noGrafana FaroAmplitudeOppgaver i favroAnnen bakgrunnsinformasjon ","version":"Next","tagName":"h2"},{"title":"Søknad","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/soknad","content":"","keywords":"","version":"Next"},{"title":"Oversikt​","type":1,"pageTitle":"Søknad","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/soknad#oversikt","content":" Loading...  ","version":"Next","tagName":"h2"},{"title":"dp-quiz​","type":1,"pageTitle":"Søknad","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/soknad#dp-quiz","content":" Abonnerer på hendelser​  Loading...  Publiserer hendelser​  Loading...  Forslag på tegning for hendelser (WIP)​  Loading...  Forslag på tegning for behov (WIP)​  Loading... ","version":"Next","tagName":"h3"},{"title":"Prinsipper","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/prinsipper","content":"Prinsipper","keywords":"","version":"Next"},{"title":"Søknadsdialog","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/soknad/dp-soknadsdialog","content":"","keywords":"","version":"Next"},{"title":"Formål​","type":1,"pageTitle":"Søknadsdialog","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/soknad/dp-soknadsdialog#formål","content":" dp-soknadsdialog er designet med hensikten om å effektivisere og forbedre den digitale innsendingen av dagpengesøknader for brukerne. Spesifikt er formålet med denne applikasjonen å fungere som et grensesnitt mellom sluttbrukeren og de underliggende systemene, spesielt dp-soknad, dp-mellomlagring og dp-quiz.  ","version":"Next","tagName":"h2"},{"title":"Teknologier​","type":1,"pageTitle":"Søknadsdialog","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/soknad/dp-soknadsdialog#teknologier","content":" Rammeverk: next@14Testing: VitestNode: v18.17  ","version":"Next","tagName":"h2"},{"title":"App-arkitektur​","type":1,"pageTitle":"Søknadsdialog","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/soknad/dp-soknadsdialog#app-arkitektur","content":" ","version":"Next","tagName":"h2"},{"title":"Slik fungerer løsningen​","type":1,"pageTitle":"Søknadsdialog","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/soknad/dp-soknadsdialog#slik-fungerer-løsningen","content":" Verifisering av brukerens arbeidssøkerstatus:  Før man kan sende en søknad, må brukeren være registrert som arbeidssøker.dp-soknadsdialog har integrasjon med veilarbregistrering for å hente verifisere brukerens status som arbeidssøker.  Starte Ny Søknad:  dp-soknadsdialog fungerer som en klient for dp-soknad, og gir brukerne muligheten til å enkelt starte en ny dagpengesøknad. Dette skjer i samarbeid med dp-mellomlagring, hvor vedlegg midlertidig lagres under søknadsprosessen.  Fullføre eksisterende Søknader:  Brukerne har muligheten til å starte en ny søknad uten å fullføre den, og denne ufullstendige søknaden lagres som en kladd i dp-soknad. dp-søknadsdialog henter ufullstendige søknader fra dp-soknad, og samtidig forsikrer applikasjonen om at allerede opplastede vedlegg blir pålitelig lagret i dp-mellomlagring. Dette sikrer kontinuiteten i søknadsprosessen og gir brukerne fleksibilitet til å fullføre søknaden i sitt eget tempo. Adversel Inaktive søknader slettes innen en uke for å iverata personvern og unngå lagring av unødvendig data.  Hente nye Spørsmål via dp-quiz:  dp-søknadsdialog presenterer brukerne dynamiske spørsmål fra dp-soknad via dp-quiz, hvor hvert svar fra brukeren utløser nye relevante spørsmål. Løsningen fungerer som en bindeledd, uten å håndtere forretningslogikk, og viderefører dialogen mellom brukeren og dp-soknad.  Effektiv lagring av Vedlegg:  Vedlegg fra brukerne lagres midlertidig av dp-søknadsdialog i dp-mellomlagring. Dette bidrar til å organisere og bevare alle nødvendige dokumenter knyttet til søknaden samt forbedre søknadsprosessen.  Innsending av Søknaden:  Ved innsending av søknaden, kommuniserer dp-soknad med dp-mellomlagring for å hente vedlegg og informasjon. Dette resulterer i et oppsummeringsdokument som inkluderer spørsmål, svar og vedlegg. Denne informasjonen blir senere journalført for å sikre en nøye dokumentert søknadsprosess.  Oppsumert fungerer dp-søknadsdialog som en bindeledd mellom sluttbrukeren og de underliggende systemene for dagpengesøknadsprosessen ved å effektivt koble sammen dp-soknad, dp-quiz og dp-mellomlagring. Applikasjonen forenkler søknadsprosessen for brukerne, ivaretar midlertidig lagring av vedlegg og legger til rette for en sømløs overgang fra søknad til journalføring  ","version":"Next","tagName":"h3"},{"title":"Kommunikasjonsflyt​","type":1,"pageTitle":"Søknadsdialog","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/soknad/dp-soknadsdialog#kommunikasjonsflyt","content":"   ","version":"Next","tagName":"h3"},{"title":"Utfordringer​","type":1,"pageTitle":"Søknadsdialog","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/soknad/dp-soknadsdialog#utfordringer","content":" TODO: Hvilke utfordringer har denne applikasjonen? F.eks. med hvordan den er strukturert, vanskelig å oppgradere, utdaterte avhengigheter  ","version":"Next","tagName":"h2"},{"title":"Lenker​","type":1,"pageTitle":"Søknadsdialog","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/soknad/dp-soknadsdialog#lenker","content":" dp-soknadsdialogdp-soknaddp-mellomlagringdp-quiznav.noGrafana FaroAmplitudeOppgaver i favroAnnen bakgrunnsinformasjon ","version":"Next","tagName":"h2"},{"title":"Meldeplikt","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/meldeplikt","content":"","keywords":"","version":"Next"},{"title":"Kort om meldekort​","type":1,"pageTitle":"Meldeplikt","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/meldeplikt#kort-om-meldekort","content":" Når man får Dagpenger (DP), Arbeidsavklaringspenger (AAP) eller Tiltakspenger (TP) har man meldeplikt. Dvs. man må sende meldekort hver fjortende dag. Meldekortet er et skjema man fyller ut, der man gir NAV opplysninger om blant annet jobb, aktiviteter og fravær de siste 14 dagene.  Team Dagpenger &quot;arvet&quot; ansvaret for å gjøre endringer og oppgraderinger i meldekort-løsningen fordi alle fra Team Meldekort ble flyttet til Team Dagpenger. Dagpenger-delen i meldekort-løsningen skal erstattes med dp-rapportering-frontend. Team Dagpenger tenkte å prøve den nye løsningen med begrenset antall brukere først. For å velge brukere som skulle sendes til den nye løsningen, ble opprettet en mekanisme som sjekker hvem som skal sendes:  Det finnes en tabell i meldkort-api sin database som inneholder fødselsnummerHvis fødselsnumeret til bruker er i denne tabellen, sendes brukeren til den nye løsningen  ","version":"Next","tagName":"h2"},{"title":"Kontaktinformasjon​","type":1,"pageTitle":"Meldeplikt","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/meldeplikt#kontaktinformasjon","content":" Hanne Beate Vatnedal (hanne.beate.vatnedal@nav.no) fortsetter å &quot;eie&quot; meldekort-løsningen og alle funksjonelle endringer bør sjekkes med henne. Mona Kjeldsrud (mona.kjeldsrud@nav.no) vet mye om meldeplikt-backend. David Lacina (david.lacina@nav.no) kan hjelpe med testbrukere.  ","version":"Next","tagName":"h2"},{"title":"Arkitektur​","type":1,"pageTitle":"Meldeplikt","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/meldeplikt#arkitektur","content":" Loading...  ","version":"Next","tagName":"h2"},{"title":"Applikasjoner​","type":1,"pageTitle":"Meldeplikt","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/meldeplikt#applikasjoner","content":" Meldekort frontendMeldekort mikrofrontendMeldekort APIMeldekortserviceMeldekortkontroll API   VIKTIG! Tekster som vises i meldekort (frontend) kommer fra meldekort-api. Vi må vise de tekstene som var gyldige for det valgte meldekortet (for den meldeperioden). Det finnes fortsatt 2 filer med tekster i meldekort (src\\app\\mock\\responses\\tekster_nb.json og src\\app\\mock\\responses\\tekster_en.json), men disse er ment for lokalkjøring/testing og inneholder ikke alle/siste versjoner av tekstene. meldekort-api har en tabell med tekstene i sin database. Denne tabellen er fylt ut ved hjelp av R__recreate_texts-migrasjonen og har disse kolonnene:  kodeverdisprakfra_dato  For å opprette en tekst i denne tabellen må man skrive i R__recreate_texts, f.eks:  INSERT INTO tekst (kode, verdi, sprak, fra_dato) VALUES ('overskrift.bruttoBelop', 'Brutto beløp ', 'nb', TO_DATE('1000-01-01', 'YYYY-MM-DD')); INSERT INTO tekst (kode, verdi, sprak, fra_dato) VALUES ('overskrift.bruttoBelop', 'Gross amount ', 'en', TO_DATE('1000-01-01', 'YYYY-MM-DD'));   Dato 1000-01-01 betyr at denne teksten skal i praksis gjelde for alle meldekort  For å ha forskjellige versjoner av samme tekst:  INSERT INTO tekst (kode, verdi, sprak, fra_dato) VALUES ('textKode', 'Tekst v1 ', 'nb', TO_DATE('1000-01-01', 'YYYY-MM-DD')); INSERT INTO tekst (kode, verdi, sprak, fra_dato) VALUES ('textKode', 'Text v1 ', 'en', TO_DATE('1000-01-01', 'YYYY-MM-DD')); INSERT INTO tekst (kode, verdi, sprak, fra_dato) VALUES ('textKode', 'Tekst v2 ', 'nb', TO_DATE('2023-10-29', 'YYYY-MM-DD')); INSERT INTO tekst (kode, verdi, sprak, fra_dato) VALUES ('textKode', 'Text v2 ', 'en', TO_DATE('2023-10-29', 'YYYY-MM-DD'));   Da skal v1 vises når man har en aktiv meldeperiode som er før 2023-10-29 og v2 skal vises for meldeperioder etter 2023-10-29.  ","version":"Next","tagName":"h2"},{"title":"Utvikling​","type":1,"pageTitle":"Meldeplikt","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/meldeplikt#utvikling","content":" ","version":"Next","tagName":"h2"},{"title":"Vanlig utviklingsprosess​","type":1,"pageTitle":"Meldeplikt","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/meldeplikt#vanlig-utviklingsprosess","content":" Opprett en ny branch Gjør nødvendige endringer i denne branchen Deploy branchen til Q1 og/eller Q2. For å gjøre dette: Åpne GitHub repo &gt; Actions &gt; Build and Deploy to dev &gt; Run workflow &gt; Velg riktig branchVelg miljø Q1 eller Q2 &gt; Run workflow Sjekk endringene i Q1 og/eller Q2 Opprett en pull request Når PRen er sjekket, merge branchen til master Bygg release. For å gjøre dette: Åpne GitHub repo &gt; Actions &gt; Build and Deploy to dev &gt; Run workflow &gt; Velg master branchVelg miljø Q1 eller Q2, velg bump &gt; Run workflow Deploy release til prod (Når er det smartest å release til prod?). For å gjøre dette: Åpne GitHub repo &gt; Actions &gt; Deploy release to dev or prod &gt; Run workflow &gt; Velg master branchskriv inn &quot;p&quot; som Miljø, skriv inn den versjonen som skal deployes &gt; Run workflow Sjekk at alt fungerer (Overvåkning) Oppdater Confluence  ","version":"Next","tagName":"h3"},{"title":"Når er det smartest å release til prod?​","type":1,"pageTitle":"Meldeplikt","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/meldeplikt#når-er-det-smartest-å-release-til-prod","content":" Flertallet sender meldekortene sine fra fredag til mandag. Det betyr at det ikke er veldig smart å deploye noe til prod i disse dagene med mindre det er en prodfeil fiks. Det er bedre å deploye til prod fra tirsdag til torsdag.   Antall REST-kall for å kontrollere meldekort per ukedag fra mandag til søndag  ","version":"Next","tagName":"h3"},{"title":"Oppdatering​","type":1,"pageTitle":"Meldeplikt","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/meldeplikt#oppdatering","content":" Alle applikasjonene i meldeplikt-løsningen har dependabot som hver uke sjekker om det finnes nye versjonene til avhengighetene vi bruker. Dependabot oppretter pull request'er og utviklere må merge disse PRene til master, sjekke at appene bygges og alt fungerer i Q1 og/eller Q2 (det er også lurt å sjekke at nye poder virkelig har startet etter oppdateringer), deretter opprette release og deploye til prod.  ","version":"Next","tagName":"h2"},{"title":"Overvåkning​","type":1,"pageTitle":"Meldeplikt","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/meldeplikt#overvåkning","content":" Nyttig Grafana dashboard for å sjekke at alt fungerer og meldekort kommer innmeldekort-api dashboardmeldekortservice dashboard  Man kan også sjekke kall_logg-tabellene i meldekort-api, meldekorservice og meldekortkontroll-api. Disse applikasjonene logger alle requeste'er som kommer inn og alle request'er de sender ut og alle respons'er. Logg slettes etter 30 dager i meldekorservice, 90 dager i meldekort-api, 120 dager i meldekortkontroll-api.  ","version":"Next","tagName":"h2"},{"title":"Nyttige kommandoer​","type":1,"pageTitle":"Meldeplikt","url":"/dp-dokumentasjon/docs/innbyggerflate/losninger/meldeplikt#nyttige-kommandoer","content":" Husk at meldekorservice og meldekortkontroll-api er i FSS. For å velge FSS: kubectl config use-context dev-fss kubectl config use-context prod-fss  For å velge GCP: kubectl config use-context dev-gcp kubectl config use-context prod-gcp  For å få en liste med poder: kubectl get pods -n meldekort  For å se logg fra en pod: kubectl logs -n meldekort %NAVNET_TIL_PODEN% ","version":"Next","tagName":"h2"},{"title":"Sak og behandling","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/sak-og-behandling","content":"Sak og behandling Dette er dummy data","keywords":"","version":"Next"},{"title":"Kodekvalitet","type":0,"sectionRef":"#","url":"/dp-dokumentasjon/docs/innbyggerflate/prinsipper/kodekvalitet","content":"","keywords":"","version":"Next"},{"title":"Introduksjon​","type":1,"pageTitle":"Kodekvalitet","url":"/dp-dokumentasjon/docs/innbyggerflate/prinsipper/kodekvalitet#introduksjon","content":" Kode lever. Det er ikke noe man skriver og glemmer. Brukere ønsker nye funksjoner. Feil må fikses. Koden skal være enkel å forstå, selv om du ikke har sett den før eller det har gått lang tid siden du sist så på koden. Dette er grunnen til at kodekvalitet er viktig. Programmering handler mer om å skrive kode som du og dine medarbeidere kan forstå, og mindre om å vise hvor flink du er med programmeringsspråket ditt.  En forskjell mellom en dyktig programmerer og en profesjonell programmerer er at den profesjonelle programmereren forstår at klarhet er viktig.  Profesjonelle bruker sine ferdigheter til å skrive kode som andre kan forstå.  ","version":"Next","tagName":"h2"},{"title":"Hvordan måle kodekvalitet​","type":1,"pageTitle":"Kodekvalitet","url":"/dp-dokumentasjon/docs/innbyggerflate/prinsipper/kodekvalitet#hvordan-måle-kodekvalitet","content":"   Vurder en bygning med noen ødelagte vinduer. Hvis vinduene ikke blir reparert, er tendensen at hærverkere ødelegger flere vinduer. Til slutt &gt;kan de til og med bryte seg inn i bygningen, og hvis den står tom, kanskje til og med okkupere den eller tenne branner inni. James Q. Wilson og George Kelling, 1982 - Broken windows theory  ","version":"Next","tagName":"h2"},{"title":"Clean code​","type":1,"pageTitle":"Kodekvalitet","url":"/dp-dokumentasjon/docs/innbyggerflate/prinsipper/kodekvalitet#clean-code","content":" Clean code ser ut som om den ble skrevet av noen som bryr seg.  Clean code  : Med clean code mener vi lesbare kode eller obvious code  ","version":"Next","tagName":"h2"},{"title":"Navngivning​","type":1,"pageTitle":"Kodekvalitet","url":"/dp-dokumentasjon/docs/innbyggerflate/prinsipper/kodekvalitet#navngivning","content":" Navnet på en variabel, funksjon eller klasse bør besvare alle de viktige spørsmålene. Det bør fortelle deg hvorfor det eksisterer, hva det gjør, og hvordan det brukes.  Hvis et navn krever en kommentar, avslører ikke navnet sin hensikt.  Kall det for det det er.​  Ikke kall en spade for en spade. Kall en sandkassespade for en sandkassespade og en anleggsspade for en anleggsspade.  Eksempel på dårlig kode​  public String getOrgNr() { String[] split = description.split(&quot;-&quot;); return split[0].trim(); }   Eksempel på bedre kode​  public String getOrganisasjonsnummerFraBeskrivelse() { String[] split = description.split(&quot;-&quot;); return split[0].trim(); }   Unngå forkortelser​  Eksempel på dårlig kode​  NIDPPrincipal up = resolveUserPrincipal(); UserAuthority ua = nidpPrincipal.getAuthority();   Eksempel på bedre kode​  NIDPPrincipal nidpPrincipal = resolveUserPrincipal(); UserAuthority userAuthority = nidpPrincipal.getAuthority();   Navngivning og omfang​  Eksempel på dårlig kode​  class FakturaService { public static long nummer = 123456789; ... }   Eksempel på bedre kode​  class FakturaService { public static long MAKS_FAKTURABELØP = 123456789; }   for(int i=0;i&lt; 10;i++){ }   Prøv å gjøre koden menneskelesbar​  if (arbeidsforholdErAvsluttet())   // eller  if (erArbeidsforholdAvsluttet())   ","version":"Next","tagName":"h3"},{"title":"Struktur​","type":1,"pageTitle":"Kodekvalitet","url":"/dp-dokumentasjon/docs/innbyggerflate/prinsipper/kodekvalitet#struktur","content":" Prinsipp om single responsibility​  En klasse/metode skal kun ha én grunn til å bli endret.  Prinsippet om single responsibility  Små biter​  Små klasser og metoder er lettere å teste, gjenbruke og vedlikeholde. Det er også lettere å gi riktige navn til små biter av kode.  Det er i det minste følgende grunner til å trekke ut kode til en klasse eller metode:  LesbarhetTestingGjenbruk  Størrelsesregler: Den første regelen for klasser er at de skal være små. Den andre regelen for klasser er at de skal være mindre enn det.  Pakkestruktur​  Pakkestrukturen bør organiseres etter funksjoner/forretningslogikk og ikke tekniske aspekter.  Strukturen gjorde det også tyngre å resonere rundt endring, og hvordan endringen treffer kodebasen. Større deler av pakkestrukturen var stort sett alltid involvert. Hver commit er en ny deploy til prod, del 3 - Terje Heen  En pakke som inneholder koden til et deldomene bør kunne stå helt på egne bein. Den bør kunne taes ut av applikasjonen og legges inne i en annen applikasjon uten store problemer.  Eksempel på dårlig pakkestruktur​    Eksempel på bedre pakkestruktur​    Komponentstruktur​  SKAL VI HA NOE HER?  ","version":"Next","tagName":"h3"},{"title":"Kommentarer​","type":1,"pageTitle":"Kodekvalitet","url":"/dp-dokumentasjon/docs/innbyggerflate/prinsipper/kodekvalitet#kommentarer","content":" Tommelfingerregel:  Kodekommentarer er potensielle løgner!  Tommelfingerregelen er at kommentarer ikke bør brukes. Hvis du befinner deg i en situasjon der du ønsker å skrive en kommentar, er det sannsynligvis noe galt med koden din.  Eksempel på dårlig kode​  // Hvis salgsordregruppeBeskrivelse er tom if (salgsordregruppeBeskrivelse == null || salgsordregruppeBeskrivelse.length() == 0) { return &quot;&quot;; }   Eksempel på bedre kode​  if (erSalgsordregruppeBeskrivelseTom()) return &quot;&quot;; privat boolean erSalgsordregruppeBeskrivelseTom() { return salgsordregruppeBeskrivelse == null || salgsordregruppeBeskrivelse.length() == 0; }   Når kommentarer er nødvendige​  Kommentarer er, i beste fall, en nødvendig ondskap.  I noen tilfeller er kommentarer nødvendige:  For å forklare hvorfor løsningen er implementert på denne måten​  For eksempel en midlertidig løsning for en feil i en ekstern avhengighet:  FakturagrunnlagResource-faktura = fakturafabrikk.lagFaktura(claim); // Visma Enterprise har et problem hvis mer enn én faktura opprettes med // ett sekunds mellomrom. Derfor forsinkelse hvis nødvendig. forsinkOrdreSending.forsinkHvisNødvendig(); URI plassering = restUtil.post(fakturaSluttPunkt, faktura);   Åpne API-er​  Hvis vi har åpne API-er som:  Kode som en delt bibliotek (KDoc/Javadoc)REST-API-er (OpenAPI-spesifikasjon (OAS))  kan det være en god idé å ha kommentarer.  Eksempel  /** * Representerer en aktivitet som er gjort i tilknytning til en hendelse. * * @property melding knyttet til aktiviteten * @property kontekst liste med [Kontekst] for aktiviteten * @property tidsstempel for når aktiviteten ble gjort. Blir automatisk satt til tidspunktet for når * Aktivitet blir laget hvis ikke annet er angitt */ class Aktivitet( private val melding: String, private val kontekst: List&lt;Kontekst&gt;, private val tidsstempel: LocalDateTime = LocalDateTime.now(), ) { /** * @return meldingen i aktiviteten */ fun melding() = melding /** * @return tidsstempelet til aktiviteten */ fun tidsstempel() = tidsstempel /** * @return liste over kontekster knyttet til aktiviteten */ fun kontekst() = kontekst }   Document Kotlin code: KDoc  ","version":"Next","tagName":"h3"},{"title":"Testing​","type":1,"pageTitle":"Kodekvalitet","url":"/dp-dokumentasjon/docs/innbyggerflate/prinsipper/kodekvalitet#testing","content":" Feilsøking er dobbelt så vanskelig som å skrive et program i utgangspunktet. Så hvis du er så smart som du kan være når du skriver det, hvordan vil du noensinne feilsøke det?  Hvorfor tester vi?​  Vi tester fordi:  Billigere / raskere å finne feilen tidlig i utviklingsprosessenRask tilbakemeldingFor å kunne refaktorereDokumentasjonGjøre det enklere å håndtere komplekse problemerRaskere utviklingBedre kode  Egenskapene til gode tester​  En test er mer en spesifikasjon enn en test. Den skal spesifisere hvordan noe fungerer.  Må være raske (vanligvis millisekunder)Tregere tester vil ofte være integrasjonstesterDel testene inn i enhets- og integrasjonstesterEn test må teste et konseptTesten bør rydde opp etter segUavhengig av rekkefølgeHold testene enkleUnngå å bruke rammeverk hvis mulig (for eksempel Spring)Testene må alltid kjøres før koden sjekkes inn i versjonskontrollen  Hvor mye av en applikasjon skal testes​  Det er ikke viktig å teste 100% av koden. Faktisk er det irrelevant hvor mange prosent av koden som er testet. Det viktige er å teste så mye av koden at du føler deg mindre stresset når du distribuerer og refaktorerer koden. Koden bør også være under kontinuerlig utvikling.  Ting å teste:  LogikkKode for kartleggingKontrollører - kontrakten mellom koden og andre systemerKode som trenger ekstra dokumentasjon  Ting å unngå å teste:  TredjepartsbibliotekerHvis du ender opp med å mocking alt ","version":"Next","tagName":"h3"}],"options":{"id":"default"}}